import{r as n,a as b,u as f,j as e,L as v,b as j}from"./index-B-DAgIDG.js";import{A as u,m as a}from"./index-DNBFdzca.js";const k=()=>{const[t,x]=n.useState({name:"",email:"",password:"",role:"employee"}),[s,l]=n.useState(!1),[d,c]=n.useState(""),p=b(),{setUser:h}=f(),r=o=>{x({...t,[o.target.name]:o.target.value})},y=async o=>{var m,g;o.preventDefault(),c(""),l(!0);try{const i=await j.post("http://localhost:5000/api/auth/register",t);if(i.data.user&&i.data.token)h({user:i.data.user,token:i.data.token}),p(i.data.user.role==="admin"?"/admin/dashboard":"/employee/dashboard");else throw new Error("Invalid response from server")}catch(i){c(((g=(m=i.response)==null?void 0:m.data)==null?void 0:g.message)||"Registration failed. Please try again."),console.error("Registration error:",i)}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4",children:e.jsx(u,{children:e.jsx(a.div,{className:"relative w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:e.jsxs(a.div,{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",whileHover:{scale:1.01},transition:{type:"spring",stiffness:400,damping:10},children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-8 text-white text-center relative overflow-hidden",children:[e.jsx(a.h2,{className:"text-3xl font-bold relative z-10",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:"Join Fixxy"}),e.jsx(a.p,{className:"text-indigo-100 mt-2 relative z-10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Create your account to get started"})]}),e.jsxs("form",{onSubmit:y,className:"p-8 space-y-6",children:[e.jsx(u,{children:d&&e.jsx(a.div,{className:"bg-red-100 text-red-600 p-3 rounded-lg text-sm border border-red-200",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:d})}),e.jsxs(a.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{name:"name",value:t.name,onChange:r,className:"w-full bg-gray-50 text-gray-800 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),e.jsx(a.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500",initial:{scaleX:0},animate:{scaleX:t.name?1:0},transition:{duration:.3}})]})]}),e.jsxs(a.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{name:"email",type:"email",value:t.email,onChange:r,className:"w-full bg-gray-50 text-gray-800 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),e.jsx(a.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500",initial:{scaleX:0},animate:{scaleX:t.email?1:0},transition:{duration:.3}})]})]}),e.jsxs(a.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.6},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{name:"password",type:"password",value:t.password,onChange:r,className:"w-full bg-gray-50 text-gray-800 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),e.jsx(a.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500",initial:{scaleX:0},animate:{scaleX:t.password?1:0},transition:{duration:.3}})]})]}),e.jsxs(a.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.7},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{name:"role",value:t.role,onChange:r,className:"w-full bg-gray-50 text-gray-800 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none",children:e.jsx("option",{value:"employee",children:"Employee"})}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),e.jsx(a.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500",animate:{scaleX:1},transition:{duration:.3}})]})]}),e.jsxs(a.button,{type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-400 hover:to-purple-500 text-white py-3 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 relative overflow-hidden group",disabled:s,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},whileTap:{scale:.98},children:[e.jsx("span",{className:"relative z-10 flex items-center justify-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Create Account"}),e.jsx(a.span,{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-purple-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300",initial:{x:"-100%"},animate:{x:s?"100%":"0%"},transition:{duration:s?1.5:0}})]}),e.jsx(a.div,{className:"text-center pt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(v,{to:"/login",className:"text-indigo-600 font-medium hover:underline hover:text-indigo-700 transition-colors",children:"Login here"})]})})]})]})})})})};export{k as default};
